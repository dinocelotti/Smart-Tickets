<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Project.sol Documentation</title>
  <link rel="stylesheet" type="text/css" href=".\myStyle.css">
</head>

<body>
  <div id="pageHeader">
    <h1 style="margin: 0px; padding-left: 20px">Project.sol Documentation</h1>
  </div>
  <!-- ========= CLASS DATA ========= -->
  <div>
    <div class="description"></div>
    <div class="summary">
      <!-- ========= METHOD SUMMARY ========= -->
      <div class="methSumm">
        <h2>Method Summary</h2>
        <table>
          <tbody class="methTable">
            <tr>
              <td class="colFirst">Requirements</th>
              <td class="colLast">Method and Description</th>
            </tr>

            <tr class="altColor">
              <td class="colFirst">
                <code>onlyPromoter() stagingPhase()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>addDistributor</strong>
                  (address _user)
                </code>
                <div>Whitelist a user as a distributor</div>
              </td>
            </tr>

            <tr class="altColor">
              <td class="colFirst">
                <code>onlyPromoter() stagingPhase()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>addTicket</strong>
                  (bytes32 _typeOfTicket, uint _priceInWei, uint _quantity)
                </code>
                <div>Add a ticket to this project</div>
              </td>
            </tr>

            <tr class="rowColor">
              <td class="colFirst">
                <code>onlyPromoter()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>finishStaging</strong>
                  ()
                </code>
                <div>Moves state from staging to private funding</div>
              </td>
            </tr>
            
            <tr class="altColor">
              <td class="colFirst">
                <code>onlyPromoter() stagingPhase()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>giveAllowance</strong>
                  (address _distributor, bytes32 _ticketType, uint _quantity)
                </code>
                <div>Set allowed quantity of a ticket for a distributor</div>
              </td>
            </tr>

            <tr class="rowColor">
              <td class="colFirst">
                <code>onlyPromoter() stagingPhase()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>setDistributorFee</strong>
                  (address _distributor, uint _promotersFee)
                </code>
                <div>Set the promoters fee for the distributor</div>
              </td>
            </tr>

            <tr class="altColor">
              <td class="colFirst">
                <code>onlyDistributor() stagingPhase()</code>
              </td>
              <td class="colLast">
                <code>
                  <strong>setMarkup</strong>
                  (uint _markup, bytes32 _typeOfTicket)
                </code>
                <div>Set the markup on the face value of the ticket for the distributor</div>
              </td>
            </tr>

            <tr class="rowColor">
              <td class="colFirst">
                <code></code>
              </td>
              <td class="colLast">
                <code>
                  <strong>listTicket</strong>
                  (bytes32 _ticketType, uint[2] _amountPrice)
                </code>
                <div>List an amount of a ticket type for a price</div>
              </td>
            </tr>

            <tr class="altColor">
              <td class="colFirst">
                <code></code>
              </td>
              <td class="colLast">
                <code>
                  <strong>cancelListing</strong>
                  (bytes32 _ticketType)
                </code>
                <div>Cancel a previous listing</div>
              </td>
            </tr>
            <!--
            <tr class="altColor">
              <td class="colFirst">
                <code></code>
              </td>
              <td class="colLast">
                <code>
                  <strong></strong>

                </code>
                <div></div>
              </td>
            </tr>
            <tr class="rowColor">
              <td class="colFirst">
                <code></code>
              </td>
              <td class="colLast">
                <code>
                  <strong></strong>

                </code>
                <div></div>
              </td>
            </tr>
            -->
          </tbody>
        </table>
      </div>
    </div>
    <div class="details">
      
      <!-- ========= METHOD DETAILS ========= -->
      <div class="methDetails">
        <h2>Method Details</h2>

        <div class="thisMethod" id="addDistributor">
          <div class="methHeader">
            <strong>addDistributor</strong>
          </div>

          <div class="methInfo">
            <div>
              <strong>Description</strong>
              <p>
                Whitelists a user as a distributor, giving them the priviledges of a distributor account on this project.
              </p>
            </div>

            <div>
              <strong>Parameters</strong>
              <p>
                <code>
                  address <strong>_user</strong>
                </code>
              </p>
            </div>

            <div>
              <strong>Requirements</strong>
              <p>
                <code>onlyPromoter()</code>
              </p>
            </div>

            <div>
              <strong>Event Triggers</strong>
              <p>           
                <code>
                  <strong>AddDistributor</strong>(address distributor)
                </code>
              </p>
            </div>
          </div>
        </div>

        <div class="thisMethod" id="addTicket">
          <div class="methHeader">
            <strong>addTicket</strong>
          </div>
          <div class="methInfo">

            <div>
              <strong>Description</strong>
              <p>
                Creates more ticket tokens of a given type. Ownership is given to the promoter upon creation.
                If _priceInWei conflicts with an existing tickets[_ticketType].maxPrice value, the new one is accepted.
              </p>
            </div>

            <div>
              <strong>Parameters</strong>
              <p>
                <code>
                  bytes32 <strong>_ticketType</strong>,
                  uint <strong>_priceInWei</strong>,
                  uint <strong>_quantity</strong>
                </code>
              </p>
            </div>

            <div>
              <strong>Requirements</strong>
              <p>
                <code>onlyPromoter()</code>
              </p>
            </div>

            <div>
              <strong>Event Triggers</strong>
              <p>           
                <code>
                  <strong>AddTicket</strong>(bytes32 ticketType, uint princeInWei, uint quantity)
                </code>
              </p>
            </div>
          </div>
        </div>

        <div class="thisMethod" id="finishStaging">
          <div class="methHeader">
            <strong>finishStaging</strong>
          </div>

          <div class="methInfo">
            <div>
              <strong>Description</strong>
              <p>
                Move project's state from staging to private funding.
              </p>
            </div>

            <div>
              <strong>Requirements</strong>
              <p>
                <code>onlyPromoter()</code>,
                <code>stagingPhase()</code>
              </p>
            </div>

            <div>
              <strong>Event Triggers</strong>
              <p>           
                <code>
                  <strong>StartPublicFunding</strong>()
                </code>
              </p>
            </div>
          </div>
        </div>
        
        <div class="thisMethod" id="giveAllowance">
          <div class="methHeader">
            <strong>giveAllowance</strong>
          </div>

          <div class="methInfo">
            <div>
              <strong>Description</strong>
              <p>
                Add to the allowance of a ticket type that this distributor may purchase.
                Allowance is increased regardless of availability of given ticket type.
              </p>
            </div>

            <div>
              <strong>Parameters</strong>
              <p>
                <code>
                  address <strong>_distributor</strong>, 
                  bytes32 <strong>_typeOfTicket</strong>, 
                  uint <strong>_quantity</strong>
                </code>
              </p>
            </div>

            <div>
              <strong>Requirements</strong>
              <p>
                <code>onlyPromoter()</code>, 
                <code>onlyDistributor(_distributor)</code>
              </p>
            </div>

            <div>
              <strong>Event Triggers</strong>
              <p>           
                <code>
                  <strong>GiveAllowance</strong>
                  (address distributor, bytes32 ticketType, uint allowance)
                </code>
              </p>
            </div>
          </div>
        </div>
        
        <div class="thisMethod" id="setDistributorFee">
          <div class="methHeader">
            <strong>setDistributorFee</strong>
          </div>

          <div class="methInfo">
            <div>
              <strong>Description</strong>
              <p>
                Set the promoters fee for this distributor's markup on tickets.
                Requires that the given address is a distributor.
              </p>
            </div>

            <div>
              <strong>Parameters</strong>
              <p>
                <code>
                  address <strong>_distributor</strong>, 
                  uint <strong>_promotersFee</strong>
                </code>
              </p>
            </div>

            <div>
              <strong>Requirements</strong>
              <p>
                <code>onlyPromoter()</code>, 
                <code>stagingPhase()</code>
              </p>
            </div>

            <div>
              <strong>Event Triggers</strong>
              <p>           
                <code>
                  <strong>SetDistributorFee</strong>(address msg.sender, address _distributor, uint _promotersFee)
                </code>
              </p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</body>

</html>